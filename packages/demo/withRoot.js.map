{"version":3,"sources":["src/withRoot.js"],"names":["withRoot","Component","WithRoot","props","context","pageContext","jssStyles","document","querySelector","parentNode","removeChild","theme","sheetsManager","process","env","gitInfo","links","packageInfo","React","propTypes","PropTypes","object","getInitialProps","ctx"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AACA;AAEA,SAASA,QAAT,CAAkBC,SAAlB,EAA6B;AAAA,MACrBC,QADqB;AAAA;;AAAA;;AAEzB,sBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;AAC1B,gCAAMD,KAAN,EAAaC,OAAb;AAD0B,sGAcd,IAdc;AAG1B,YAAKC,WAAL,GAAmB,MAAKF,KAAL,CAAWE,WAAX,IAA0B,iCAA7C;AAH0B;AAI3B;;AANwB;AAAA;AAAA,aAQzB,6BAAoB;AAClB;AACA,YAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAAlB;;AACA,YAAIF,SAAS,IAAIA,SAAS,CAACG,UAA3B,EAAuC;AACrCH,UAAAA,SAAS,CAACG,UAAV,CAAqBC,WAArB,CAAiCJ,SAAjC;AACD;AACF;AAdwB;AAAA;AAAA,aAkBzB,kBAAS;AACP;AACA,4BACE,gCAAC,wBAAD;AAAkB,UAAA,KAAK,EAAE,KAAKD,WAAL,CAAiBM,KAA1C;AAAiD,UAAA,aAAa,EAAE,KAAKN,WAAL,CAAiBO;AAAjF,wBAEE,gCAAC,uBAAD,OAFF,eAGE,gCAAC,gBAAD,CACE;AADF;AAEE,UAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,OAFvB,CAGE;AAHF;AAIE,UAAA,KAAK,EAAEF,OAAO,CAACC,GAAR,CAAYE,KAJrB,CAKE;AALF;AAME,UAAA,WAAW,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAN3B,wBAQE,gCAAC,SAAD,EAAe,KAAKd,KAApB,CARF,CAHF,CADF;AAgBD;AApCwB;AAAA;AAAA,IACJe,kBAAMjB,SADF;;AAuC3BC,EAAAA,QAAQ,CAACiB,SAAT,GAAqB;AACnBd,IAAAA,WAAW,EAAEe,sBAAUC;AADJ,GAArB;;AAIAnB,EAAAA,QAAQ,CAACoB,eAAT,GAA2B,UAACC,GAAD,EAAS;AAClC,QAAItB,SAAS,CAACqB,eAAd,EAA+B;AAC7B,aAAOrB,SAAS,CAACqB,eAAV,CAA0BC,GAA1B,CAAP;AACD;;AAED,WAAO,EAAP;AACD,GAND;;AAQA,SAAOrB,QAAP;AACD;;eAEcF,Q","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport getPageContext from './getPageContext';\nimport Root from './root';\n// import links from './links';\n\nfunction withRoot(Component) {\n  class WithRoot extends React.Component {\n    constructor(props, context) {\n      super(props, context);\n\n      this.pageContext = this.props.pageContext || getPageContext();\n    }\n\n    componentDidMount() {\n      // Remove the server-side injected CSS.\n      const jssStyles = document.querySelector('#jss-server-side');\n      if (jssStyles && jssStyles.parentNode) {\n        jssStyles.parentNode.removeChild(jssStyles);\n      }\n    }\n\n    pageContext = null;\n\n    render() {\n      // MuiThemeProvider makes the theme available down the React tree thanks to React context.\n      return (\n        <MuiThemeProvider theme={this.pageContext.theme} sheetsManager={this.pageContext.sheetsManager}>\n          {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n          <CssBaseline />\n          <Root\n            // eslint-disable-next-line\n            gitInfo={process.env.gitInfo}\n            // eslint-disable-next-line\n            links={process.env.links}\n            // eslint-disable-next-line\n            packageInfo={process.env.packageInfo}\n          >\n            <Component {...this.props} />\n          </Root>\n        </MuiThemeProvider>\n      );\n    }\n  }\n\n  WithRoot.propTypes = {\n    pageContext: PropTypes.object,\n  };\n\n  WithRoot.getInitialProps = (ctx) => {\n    if (Component.getInitialProps) {\n      return Component.getInitialProps(ctx);\n    }\n\n    return {};\n  };\n\n  return WithRoot;\n}\n\nexport default withRoot;\n"],"file":"withRoot.js"}