{"version":3,"sources":["src/root.jsx"],"names":["drawerWidth","styles","theme","root","flexGrow","zIndex","overflow","position","display","fontFamily","appBar","drawer","drawerPaper","width","content","backgroundColor","palette","background","padding","spacing","unit","minWidth","toolbar","mixins","justifyContent","devToolbar","extras","PageTitle","router","name","pathname","split","title","ActiveLink","active","color","primary","main","version","fontSize","secondary","versionActive","path","classes","onVersionClick","isActive","undefined","ClippedDrawer","props","setState","changelogOpen","changelogPath","state","children","links","gitInfo","packageInfo","clPackage","find","pi","dir","endsWith","branch","paper","map","l","index","label","showChangeLog","hideDialog","React","Component","propTypes","PropTypes","object","array","arrayOf","shape","string","isRequired","oneOfType","node"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Link from 'next/link';\nimport Divider from '@material-ui/core/Divider';\nimport { withRouter } from 'next/router';\nimport classNames from 'classnames';\nimport ChangelogDialog from './changelog-dialog';\n\nconst drawerWidth = 240;\n\nconst styles = (theme) => ({\n  root: {\n    flexGrow: 1,\n    zIndex: 1,\n    overflow: 'hidden',\n    position: 'relative',\n    display: 'flex',\n    fontFamily: '\"Roboto\", sans-serif',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  drawerPaper: {\n    position: 'relative',\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing.unit * 3,\n    minWidth: 0, // So the Typography noWrap works\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n  devToolbar: {\n    backgroundColor: 'orange',\n  },\n  extras: {\n    float: 'right',\n  },\n});\n\nconst PageTitle = withRouter(({ router }) => {\n  const name = router.pathname.split('/')[1];\n  const title = name ? `@pie-lib/${name}` : '@pie-lib';\n\n  return (\n    <Typography variant=\"h6\" color=\"inherit\" noWrap>\n      {title}\n    </Typography>\n  );\n});\n\nconst ActiveLink = withStyles((theme) => ({\n  active: {\n    color: theme.palette.primary.main,\n  },\n  version: {\n    fontSize: '11px',\n    color: theme.palette.secondary.main,\n  },\n  versionActive: {\n    color: theme.palette.primary.main,\n  },\n}))(\n  withRouter(({ router, path, primary, classes, version, onVersionClick }) => {\n    const isActive = path === router.pathname;\n    return (\n      <Link href={path} as={path}>\n        <ListItem button>\n          <ListItemText primary={primary} classes={{ primary: isActive && classes.active }} />\n          {version && (\n            <span\n              onClick={isActive ? () => onVersionClick(path) : undefined}\n              className={classNames(classes.version, isActive && classes.versionActive)}\n            >\n              {version}\n            </span>\n          )}\n        </ListItem>\n      </Link>\n    );\n  }),\n);\n\nclass ClippedDrawer extends React.Component {\n  //(props) {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      changelogOpen: false,\n    };\n  }\n\n  showChangeLog = (path) => {\n    this.setState({ changelogOpen: true, changelogPath: path });\n  };\n\n  hideDialog = () => {\n    this.setState({ changelogOpen: false, changelogPath: undefined });\n  };\n\n  render() {\n    const { classes, children, links, gitInfo, packageInfo } = this.props;\n    const { changelogOpen, changelogPath } = this.state;\n\n    const clPackage = changelogOpen\n      ? packageInfo.find((pi) => {\n          return pi.dir.endsWith(changelogPath);\n        })\n      : undefined;\n\n    return (\n      <div className={classes.root}>\n        <AppBar position=\"absolute\" className={classes.appBar}>\n          <Toolbar className={classNames(classes.toolbar, gitInfo.branch !== 'master' && classes.devToolbar)}>\n            <PageTitle />\n\n            <div className={classes.extras}>\n              {gitInfo.branch}&nbsp;|&nbsp;\n              <a href={`https://github.com/pie-framework/pie-lib/commit/${gitInfo.short}`}>{gitInfo.short}</a>\n            </div>\n          </Toolbar>\n        </AppBar>\n        <Drawer\n          variant=\"permanent\"\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n        >\n          <div className={classes.toolbar} />\n          <List>\n            <ActiveLink path=\"/\" primary={'Home'} />\n            <Divider />\n            {links.map((l, index) => (\n              <ActiveLink\n                key={index}\n                path={l.path}\n                primary={l.label}\n                onVersionClick={this.showChangeLog}\n                version={gitInfo.branch === 'master' ? l.version : l.version ? 'next' : undefined}\n              />\n            ))}\n          </List>\n        </Drawer>\n        <main className={classes.content}>\n          <div className={classes.toolbar} />\n          {children}\n        </main>\n        <ChangelogDialog open={changelogOpen} onClose={this.hideDialog} activePackage={clPackage} />\n      </div>\n    );\n  }\n}\n\nClippedDrawer.propTypes = {\n  gitInfo: PropTypes.object,\n  packageInfo: PropTypes.array,\n  links: PropTypes.arrayOf(\n    PropTypes.shape({\n      label: PropTypes.string.isRequired,\n      path: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ClippedDrawer);\n"],"file":"root.js"}